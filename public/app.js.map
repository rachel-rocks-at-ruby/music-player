{"version":3,"sources":["app/audio.js","app/components/App.jsx","app/components/Player.jsx","app/components/PlayerContainer.jsx","app/components/SongList.jsx","app/initialize.js","app/playlist.js"],"names":["AUDIO","document","createElement","App","React","Component","Player","props","actions","currentSong","isPlaying","playOrPauseSong","setNextSong","setPrevSong","track","url","PlayerContainer","playlist","index","shuffle","play","setState","pause","src","load","song","state","startSong","updatedSongIndex","Math","floor","random","length","nextSongIndex","newSong","setCurrentSong","prevSongIndex","lastSong","prevState","addEventListener","removeEventListener","toggleShuffle","SongList","map","album","artist","id","activeSong","ReactDOM","render","querySelector"],"mappings":"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","file":"public/app.js","sourcesContent":["const AUDIO = document.createElement('audio');\nexport default AUDIO;","import React from 'react'\nimport PlayerContainer from './PlayerContainer'\n\nexport default class App extends React.Component {\n  render() {\n    return (\n      <PlayerContainer />\n    )\n  }\n}\n","import React from 'react'\n\nconst Player = (props) => {\n  const { actions, currentSong, isPlaying } = props\n  const { playOrPauseSong, setNextSong, setPrevSong } = actions\n\n  return (\n    <div className=\"player\">\n      <div className=\"songName\">{currentSong ? currentSong.track : ''}</div>\n      <div className=\"controls\">\n        <button className=\"button directionButton\" onClick={setPrevSong}>\n          Prev\n        </button>\n        <button\n          className=\"button playButton\"\n          onClick={() => playOrPauseSong(currentSong.url, true)}\n        >\n          {isPlaying ? 'Pause' : 'Play'}\n        </button>\n        <button className=\"button directionButton\" onClick={setNextSong}>\n          Next\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Player\n","import React from 'react'\nimport Player from './Player'\nimport SongList from './SongList'\nimport playlist from '../playlist.js'\nimport AUDIO from '../audio'\n\n// Player Container\nexport default class PlayerContainer extends React.Component {\n  state = {\n    currentSong: { ...playlist[0], index: 0 },\n    isPlaying: false,\n    shuffle: false\n  }\n\n  componentDidMount() {\n    AUDIO.addEventListener('ended', () => this.setNextSong())\n  }\n\n  componentWillUnmount() {\n    AUDIO.removeEventListener('ended', () => this.setState({ isPlaying: false }));  \n  }\n\n  play = () => {\n    AUDIO.play()\n    this.setState({ isPlaying: true })\n  }\n\n  pause = () => {\n    // TODO: make pause resume at expected time\n    AUDIO.pause()\n    this.setState({ isPlaying: false })\n  }\n\n  load = (currentSong) => {\n    AUDIO.src = currentSong.url\n    AUDIO.load()\n    this.setState({\n      currentSong\n    })\n  }\n\n  startSong = (song) => {\n    this.pause()\n    this.load(song)\n    this.play()\n  }\n\n  playOrPauseSong = () => {\n    const { currentSong, isPlaying } = this.state;\n    if (isPlaying) {\n      this.pause()\n    } else {\n      this.startSong(currentSong)\n    }\n  }\n\n  setCurrentSong = (currentSong) => {\n    this.startSong(currentSong)\n  }\n\n  setNextSong = () => {\n    const { currentSong, shuffle } = this.state\n    \n    let updatedSongIndex\n    if (shuffle) {\n      // TODO: make sure shuffling doesn't repeat songs that already played\n      updatedSongIndex = Math.floor(Math.random()*(0, playlist.length))\n    }\n    else {\n      const nextSongIndex = currentSong.index + 1\n      updatedSongIndex = nextSongIndex >= playlist.length ? 0 : nextSongIndex\n    }\n\n    const newSong = { ...playlist[updatedSongIndex], index: updatedSongIndex }\n    this.setCurrentSong(newSong)\n  }\n\n  setPrevSong = () => {\n    const { currentSong, shuffle } = this.state\n    \n    let updatedSongIndex\n    if (shuffle) {\n      // TODO: go to previous song based on random order\n      updatedSongIndex = Math.floor(Math.random()*(0, playlist.length))\n    }\n    else {\n      const prevSongIndex = currentSong.index - 1\n      const lastSong = playlist.length - 1\n      updatedSongIndex = prevSongIndex < 0 ? lastSong : prevSongIndex\n    }\n\n    const newSong = { ...playlist[updatedSongIndex], index: updatedSongIndex }\n    this.setCurrentSong(newSong)\n  }\n\n  toggleShuffle = () => {\n    this.setState((prevState) => ({ shuffle: !prevState.shuffle }));\n  }\n\n  render() {\n    const { currentSong, isPlaying, shuffle } = this.state\n\n    const actions = {\n      playOrPauseSong: this.playOrPauseSong,\n      setCurrentSong: this.setCurrentSong,\n      setNextSong: this.setNextSong,\n      setPrevSong: this.setPrevSong,\n      toggleShuffle: this.toggleShuffle\n    }\n\n    return (\n      <div className=\"container\">\n        <Player\n          actions={actions}\n          currentSong={currentSong}\n          isPlaying={isPlaying}\n        />\n        <SongList\n          actions={actions}\n          currentSong={currentSong}\n          shuffle={shuffle}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport playlist from '../playlist.js'\n\nconst SongList = (props) => {\n  const { actions, currentSong, shuffle } = props\n  const { setCurrentSong, toggleShuffle } = actions\n\n  return (\n    <div className=\"playlist\">\n      <div className=\"playlistHeader\">\n        <div className=\"playlistTitle\">Playlist</div>\n        <div>\n          <input type=\"checkbox\" checked={shuffle} onChange={toggleShuffle} />{' '}\n          Shuffle\n        </div>\n      </div>\n      {playlist.map((song, index) => {\n        const { album, artist, id, track } = song\n        const activeSong = id === currentSong.id\n        return (\n          <div\n            className={`${activeSong && 'activeSong'} song`}\n            key={id}\n            onClick={() => setCurrentSong({...song, index})}\n          >\n            <div className=\"track\">{track}</div>\n            <div className=\"songInfo\">\n              {artist} - {album}\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default SongList\n","import ReactDOM from 'react-dom'\nimport React from 'react'\n\nimport App from 'components/App'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactDOM.render(<App />, document.querySelector('#app'))\n})\n","export default [\n  {\n    artist: 'Frank Ocean',\n    album: 'channel ORANGE',\n    track: 'Sweet Life',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/frank_ocean_sweet_life.mp3',\n    id: '7a187a2c-e6fe-46a6-a8d4-5b5984da3de3'\n  },\n  {\n    artist: 'Grace Jones',\n    album: 'Bulletproof Heart',\n    track: 'On My Way',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/grace_jones_on_my_way.mp3',\n    id: '9f6b44a3-0d57-4ae1-bfab-2447adf6eaf0'\n  },\n  {\n    artist: 'Junior Boys',\n    album: 'Big Black Coat',\n    track: 'You Say That',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/junior_boys_you_say_that.mp3',\n    id: '1c8d7409-59fb-4bf8-9ee6-8a328559754a'\n  },\n  {\n    artist: 'Kate Bush',\n    album: 'Hounds of Love',\n    track: 'Running Up That Hill',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/kate_bush_running_up_that_hill.mp3',\n    id: 'a27f140e-082d-4004-9368-1c7bfd84e9d0'\n  },\n  {\n    artist: 'King',\n    album: 'We Are King',\n    track: 'Supernatural',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/king_supernatural.mp3',\n    id: '0a78d3b2-7dc6-462b-8d8c-a5310ccb6451'\n  },\n  {\n    artist: 'Terry Riley',\n    album: 'Persian Surgery Dervishes',\n    track: 'Performance 1, part 1',\n    url:\n      'https://s3.us-east-2.amazonaws.com/react-challenge/tracks/terry_riley_persian_surgery_dervises_performance_1_part_1.mp3',\n    id: 'd7e10f3c-e967-43f8-babc-14ce537a2578'\n  }\n]\n"]}